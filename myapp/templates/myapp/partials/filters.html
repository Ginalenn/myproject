
<div class="card shadow-sm border-0" id="filters-panel">
    <div class="card-header bg-white border-0 py-3 d-flex justify-content-between align-items-center">
        <h5 class="mb-0 fw-bold"><i class="fa-solid fa-filter me-2 text-primary"></i>Filter Records</h5>
        <!-- The ID is crucial for the Clear button -->
        <button class="btn btn-sm btn-outline-secondary" id="clearAllFiltersBtn" title="Clear All Filters">
            <i class="fa-solid fa-eraser"></i>
        </button>
    </div>

    <div class="accordion accordion-flush" id="filterAccordion">

        <!-- Filter by Text/ID -->
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseText">
                    Search by Text or ID
                </button>
            </h2>
            <div id="collapseText" class="accordion-collapse collapse show" data-bs-parent="#filterAccordion">
                <div class="accordion-body">
                    <div class="mb-2">
                        <label for="idFilter" class="form-label small">Activity ID</label>
                        <input type="number" id="idFilter" class="form-control form-control-sm" placeholder="e.g., 123">
                    </div>
                    <div>
                        <label for="titleFilter" class="form-label small">Activity Title</label>
                        <input type="text" id="titleFilter" class="form-control form-control-sm" placeholder="Contains text...">
                    </div>
                </div>
            </div>
        </div>

        <!-- Filter by Date Range -->
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDate">
                    Filter by Date Range
                </button>
            </h2>
            <div id="collapseDate" class="accordion-collapse collapse" data-bs-parent="#filterAccordion">
                <div class="accordion-body">
                    <label class="form-label small">Activity Start Date is between:</label>
                    <div class="mb-2">
                        <input type="date" id="dateFromFilter" class="form-control form-control-sm">
                    </div>
                    <div>
                        <input type="date" id="dateToFilter" class="form-control form-control-sm">
                    </div>
                </div>
            </div>
        </div>

        <!-- Filter by Category -->
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCategory">
                    Filter by Category
                </button>
            </h2>
            <div id="collapseCategory" class="accordion-collapse collapse" data-bs-parent="#filterAccordion">
                <div class="accordion-body">
                    <div class="mb-2">
                        <label for="strategyFilter" class="form-label small">Strategy Name</label>
                        <select id="strategyFilter" class="form-select form-select-sm">
                            <option value="" selected>All Strategies</option>
                            {% for strategy in distinct_strategies %}<option value="{{ strategy }}">{{ strategy }}</option>{% endfor %}
                        </select>
                    </div>
                    <div class="mb-2">
                        <label for="fundingAgencyFilter" class="form-label small">Funding Agency</label>
                        <select id="fundingAgencyFilter" class="form-select form-select-sm">
                            <option value="" selected>All Funders</option>
                            {% for funder in distinct_funders %}<option value="{{ funder }}">{{ funder }}</option>{% endfor %}
                        </select>
                    </div>
                    <div class="mb-2">
                        <label for="implementingAgencyFilter" class="form-label small">Implementing Agency</label>
                        <select id="implementingAgencyFilter" class="form-select form-select-sm">
                            <option value="" selected>All Implementers</option>
                            {% for implementer in distinct_implementers %}<option value="{{ implementer }}">{{ implementer }}</option>{% endfor %}
                        </select>
                    </div>
                    <div class="mb-2">
                        <label for="proofFilter" class="form-label small">Has Proof Image?</label>
                        <select id="proofFilter" class="form-select form-select-sm">
                            <option value="" selected>Either</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                     <div class="mb-2">
                        <label for="userFilter" class="form-label small">Submitted By</label>
                        <select id="userFilter" class="form-select form-select-sm">
                            <option value="" selected>All Users</option>
                            {% for user in distinct_users %}<option value="{{ user }}">{{ user }}</option>{% endfor %}
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>